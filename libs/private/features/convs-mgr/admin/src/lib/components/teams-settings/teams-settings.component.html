<section class="container">

  <div class="title-section">
    <h3>{{ 'ADMIN-SETTINGS.TEAM-SECTION.TITLE' | transloco }}</h3>
    <p>{{ 'ADMIN-SETTINGS.TEAM-SECTION.DESCRIPTION' | transloco }}</p>
  </div>

  <div class="table-section">
    <div class="table-title">
      <div class="team-info">
        <span>{{ 'ADMIN-SETTINGS.TEAM-SECTION.TITLE' | transloco }}</span>
        <span class="user-count">{{ dataSource.data.length }}</span>
      </div>

      <button class="btn btn-table-add" (click)="openAddMemberDialog()">
        <i class="fas fa-plus"></i>
        <span class="text">{{ 'ADMIN-SETTINGS.TEAM-SECTION.BUTTONS.ADD-MEMBER' | transloco }}</span>
      </button>
    </div>

    <div class="table-wrapper">
      <table mat-table [dataSource]="dataSource" matSort (matSortChange)="sortData($event)" class="teams-table">
        <ng-container matColumnDef="logo">
          <td class="table-data__logo" mat-cell *matCellDef="let orgMember">{{ getAvatar(orgMember) }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
          <td mat-cell *matCellDef="let orgMember">{{ orgMember.displayName }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
          <td mat-cell *matCellDef="let orgMember">{{ orgMember.email }}</td>
        </ng-container>

        <!-- TODO: Placeholder for OrgMember Status -->
        <ng-container matColumnDef="status">
          <td mat-cell *matCellDef="let orgMember">
            <span class="status-row">{{ orgMember.status || 'Active' }}</span>
          </td>
        </ng-container>

        <!-- TODO: showcase roles differently (can be more than one) -->
        <ng-container matColumnDef="role">
          <td mat-cell *matCellDef="let orgMember">{{ orgMember.role || 'Roles' }}</td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <td mat-cell *matCellDef="let orgMember">
            <button mat-flat-button class="btn-result">
              <i class="fas fa-trash-alt"></i>
            </button>
          </td>
        </ng-container>

        <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = index"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 20]" [length]="dataSource.data.length" [pageSize]="10"
        [ariaLabel]="'ADMIN-SETTINGS.TEAM-SECTION.ACCESSIBILITY.SELECT-RESULTS-PAGE' | transloco "></mat-paginator>
    </div>
  </div>
</section>