<convl-page title="Modules" [breadcrumbs]="breadcrumbs" fxLayout="column" fxFlexFill>
  <div *ngIf="!showAllCourses else allCourses" class="bots-page" fxLayout="column" fxLayoutAlign="start" fxFlex>
    <span class="bots" >{{ (parentBot$ | async)?.name }} {{ "MODULES.MODULES-PAGE.MODULES" | transloco }} </span>

    <div class="bots-header" fxFlex>
      <app-modules-list-header> </app-modules-list-header>
    </div>

    <div fxLayout="row" fxLayoutAlign="space-between center">
      <span class="sub-title"> {{ "MODULES.MODULES-PAGE.ALL-MODULES" | transloco }} </span>

      <button mat-flat-button (click)="showAllCourses = !showAllCourses">
        {{ "BOTS.BOTS-PAGE.VIEW-ALL" | transloco }}
      </button>
    </div>

    <div class="latest-courses" fxFlex >
      <app-modules-list-all-courses [botModules$]="botModules$" [showAllCourses]="showAllCourses"></app-modules-list-all-courses>
    </div>
  </div>

  <ng-template #allCourses>
    <div class="bots-page">
      <app-modules-list-all-courses 
        [showAllCourses]="showAllCourses" 
        [botModules$]="botModules$" 
        (collapseAllCourses)="showAllCourses = !showAllCourses">
      </app-modules-list-all-courses>
    </div>
  </ng-template>
</convl-page>